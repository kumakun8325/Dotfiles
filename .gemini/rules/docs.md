# 📝 ドキュメント作成用ルール

ドキュメント・資料作成時に追加で適用される専門ルールです。
※ 基本ルール（rules.md）は常に適用されます。

---

## 計画駆動開発
- 大きなタスク前には計画を立てて承認を得る
- 目標、アプローチ、実装ステップ、影響範囲を明示
- ユーザーが計画をスキップしようとしたらリスクを説明

## 文字コード管理
- すべてのファイルはUTF-8（BOMなし）
- 日本語を含むファイル名は避ける（英数字推奨）

## 日本語コメントのベストプラクティス

```javascript
/**
 * ユーザー情報を取得する
 * @param {string} userId - ユーザーID
 * @returns {Promise<User>} ユーザーオブジェクト
 */
async function fetchUser(userId) {
  // APIエンドポイントを構築
  const endpoint = `/api/users/${userId}`;
  // ...
}
```

### 避けるべき
- 機械翻訳的な不自然な日本語
- 英語と日本語の混在（統一する）
- 長文コメント（箇条書き形式を推奨）

## 良いコメント例

```javascript
// ✅ 良い例
// APIからユーザー情報を取得
// - キャッシュがあれば優先
// - エラー時はnullを返却
async function fetchUser(id) { ... }

// ❌ 悪い例
// この関数はAPIからユーザー情報を取得するためのものであり、
// まずキャッシュを確認して存在すればそれを返し...（長文）
```

## Markdown記法のベストプラクティス
- 見出しは階層構造を守る（h1 → h2 → h3）
- コードブロックには言語を指定（```javascript）
- 表やリストを活用して視認性を向上
- 長い文章は段落を分ける

## 資料作成の品質基準
- 誰が読んでも理解できる明確な表現
- 必要な情報が漏れなく含まれている
- 冗長な表現を避け、簡潔にまとめる
- 図表やコード例を適切に活用

## エラーメッセージの統一

```javascript
// ✅ 推奨パターン
throw new AppError({
  code: 'ERR001',
  message: 'ユーザーが見つかりませんでした',  // ユーザー向け（日本語）
  log: 'User not found: id=' + userId         // ログ向け（英語）
});
```
