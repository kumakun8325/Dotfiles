---
description: 勉強会スライドを自動生成する
---

# 勉強会スライド自動生成ワークフロー

このワークフローは、テーマを入力すると勉強会スライド（PDF/PNG）を自動生成します。
オリジナルキャラクター（くまくん・くまちゃん）が解説役として登場します。

---

## 🌟 推奨ワークフロー（NotebookLM連携）

> **最も高品質なスライドを生成する方法**

### Step 1: Antigravityでスライド設計書を作成
- `slide_design.md` - スライド設計書（レイアウト、デザインルール）
- `slide_texts.md` - 各スライドのテキスト内容

### Step 2: Antigravityでキャラクター画像を生成
- テーマに沿った衣装のキャラクター画像を生成
- ポーズバリエーション（説明、歓迎、質問、応援、困り等）を用意

### Step 3: Antigravityでプロンプトを作成
- NotebookLMに入力する詳細なスライド生成プロンプトを作成
- キャラクター配置ルール、デザインルール、禁止事項を含める

### Step 4: NotebookLMでスライドを生成
1. https://notebooklm.google.com/ を開く
2. 以下をソースとして読み込み:
   - `slide_design.md`
   - `slide_texts.md`
   - プロンプト本体（プロンプト作成エージェント.md等）
   - キャラクター画像（くまくん、くまちゃん、バリエーション画像）
3. Step 3で作成したプロンプトを貼り付け
4. スライド生成ボタンを押す
5. PDFで出力

### メリット
- ✅ **16:9で高品質**なスライドを直接生成
- ✅ **キャラクターの一貫性**が保たれる
- ✅ **テキストが読みやすい**（ボケない）
- ✅ **手動配置不要**（Canvaでの2枚並べ作業が不要）

---

## 📋 代替ワークフロー（Antigravity単体）

> 1:1画像を生成してCanvaで2枚並べる方法（従来方式）


1. キャラクター定義ファイルを確認:
   - `/Users/kumabookpro/Library/CloudStorage/GoogleDrive-masafumi.ishiguro@gmail.com/マイドライブ/ソフィア/勉強会/オリキャラ/character_sheet.md`

2. テンプレートファイルを確認:
   - `/Users/kumabookpro/Library/CloudStorage/GoogleDrive-masafumi.ishiguro@gmail.com/マイドライブ/ソフィア/勉強会/.agent/templates/slide_prompt.md`

---

## 🚀 実行手順

### Step 0: キャラクター参照画像の確認（必須）

**⚠️ 最初に必ず確認してください**

ユーザーに以下を確認：

1. **使用するキャラクターを選択してください**
   - くまくん＆くまちゃん（デフォルト）
   - 新しいキャラクター
   - 既存のキャラクター画像を指定

2. **キャラクター画像の確認**
   ```
   オリキャラ/ フォルダまたはユーザー指定のフォルダを確認
   ```

3. **参照画像が存在しない、または違うキャラクターを使う場合**
   → Step 0-A へ進む

#### Step 0-A: キャラクターバリエーション画像の生成

キャラクター参照画像が不足している場合、以下のポーズ・表情のバリエーションを生成：

| バリエーション | ポーズ | 表情 | 用途 |
|---------------|--------|------|------|
| 基本立ち | 正面立ち | 笑顔 | 表紙・まとめ |
| 説明 | 人差し指を立てる | 自信あり | 本文解説 |
| 歓迎 | 両手を広げる | にこやか | アジェンダ・導入 |
| 質問 | 首をかしげる | 疑問 | Q&A・質問 |
| 応援 | ガッツポーズ | 元気 | エンディング |
| 困り | 頭をかく | 困り顔 | トラブル解説 |

**生成時のプロンプト例**:
```
[キャラクター説明], [衣装], [ポーズ], [表情], 
full body, white background, high quality illustration
```

生成した画像は `オリキャラ/[キャラクター名]/` に保存。

---

### Step 1: テーマ情報の収集

ユーザーから以下の情報を収集してください。不足している場合は質問してください：

| 項目 | 必須 | 例 |
|------|------|-----|
| テーマ | ✅ | 「プロンプトの達人」|
| サブタイトル | ✅ | 「AIを使いこなす魔法の言葉」|
| 対象者 | ✅ | 「新入社員〜中堅社員」|
| レベル | ✅ | 「初級」「中級」「上級」|
| 時間 | ✅ | 「30分」「60分」|
| 世界観/コンセプト | ✅ | 「海賊の宝探し」「魔法学校」「宇宙探検」|
| 勉強会の回数 | ⬜ | 「第2回」|
| 追加要望 | ⬜ | 「ハンズオンを多めに」|

### Step 2: スライド構成の設計

収集した情報をもとに、以下の構成でスライドを設計してください：

```
1. 表紙（タイトル・日付・発表者）
2. アジェンダ / 今日の航路（目次）
3. 導入（なぜこのテーマが重要か）
4-12. 本編（テーマに応じた内容）
13. まとめ / 振り返り
14. Q&A / 質問タイム
15. エンディング / 次回予告
```

スライドごとに以下を決定：
- タイトル
- キーメッセージ（1-2行）
- 登場キャラクター（くまくん/くまちゃん/両方）
- キャラクターの表情・ポーズ
- 背景の雰囲気

### Step 3: キャラクター衣装の決定

世界観に合わせて、くまくん・くまちゃんの衣装を決定：

| 世界観 | くまくん衣装 | くまちゃん衣装 |
|--------|-------------|---------------|
| 海賊 | 海賊帽、眼帯、赤い上着 | リボン付き海賊帽、青いドレス |
| 魔法学校 | ローブ、杖、とんがり帽子 | ローブ、杖、星のヘアピン |
| 宇宙探検 | 宇宙服、ヘルメット | 宇宙服、星柄リボン |
| ビジネス | スーツ、ネクタイ | スーツ、スカーフ |

### Step 4: スライド画像の生成

各スライドを `generate_image` ツールで生成します。

**重要**: 日本語テキストの生成方針：
- **日本語テキストを含めて画像を生成する**
- 生成後にテキストをチェック（文字化け・読みやすさ確認）
- 問題があれば再生成を試みる（最大3回）
- **どうしても直らない場合のみ、最終手段としてCanva等で手動修正**

プロンプトのテンプレート:
```
[slide_prompt.md のテンプレートを使用]
```

出力先ディレクトリ:
```
/Users/kumabookpro/Library/CloudStorage/GoogleDrive-masafumi.ishiguro@gmail.com/マイドライブ/ソフィア/勉強会/第N回 [テーマ名]/slides/
```

// turbo
### Step 5: 出力ディレクトリの作成

```bash
mkdir -p "/Users/kumabookpro/Library/CloudStorage/GoogleDrive-masafumi.ishiguro@gmail.com/マイドライブ/ソフィア/勉強会/第N回 [テーマ名]/slides"
```

### Step 6: スライドの品質チェック

生成した各スライドに対して、以下のチェックを実行：

#### 6-1. 視覚的チェック（view_file で確認）
- [ ] キャラクターが正しく生成されているか
- [ ] くまくんの特徴: 茶色い熊、オスらしい顔つき、指定の衣装
- [ ] くまちゃんの特徴: 茶色い熊、リボン、優しい表情、指定の衣装
- [ ] 背景が世界観に合っているか
- [ ] テキストエリアが確保されているか（方式Aの場合）

#### 6-2. 日本語テキストチェック（方式Bの場合）
- [ ] 日本語が文字化けしていないか
- [ ] 読みやすいフォントで表示されているか

#### 6-3. 問題があった場合
問題のあるスライドのみ、プロンプトを調整して再生成：
```
問題: [具体的な問題]
修正プロンプト: [調整したプロンプト]
```

### Step 7: テキストオーバーレイ情報の出力

Canva/Felo livedocでの編集用に、各スライドのテキスト情報をMDファイルで出力：

```markdown
# スライドテキスト一覧

## Slide 01: 表紙
- タイトル: 第N回 勉強会
- サブタイトル: [サブタイトル]
- 日付: YYYY年MM月DD日
- 推奨フォント: Noto Sans JP Bold
- 推奨サイズ: タイトル 72pt / サブタイトル 36pt

## Slide 02: アジェンダ
...
```

### Step 8: 完了報告

生成結果のサマリーを報告：
- 生成したスライド数
- 再生成が必要だったスライド
- 出力先パス
- 次のアクション（Canvaでの編集手順）

---

## 📂 出力ファイル構成

```
第N回 [テーマ名]/
├── slides/
│   ├── slide_01_cover.png
│   ├── slide_02_agenda.png
│   ├── slide_03_intro.png
│   ├── ...
│   └── slide_15_ending.png
├── slide_texts.md          # テキストオーバーレイ情報
├── slide_design.md         # スライド設計書
└── generation_log.md       # 生成ログ（再生成履歴含む）
```

---

## ⚠️ トラブルシューティング

| 問題 | 対処法 |
|------|--------|
| キャラクターが別の動物になる | character_sheet.md の詳細記述を確認し、プロンプトに追加 |
| 衣装が違う | 衣装の詳細記述をプロンプトに明示的に追加 |
| 日本語が文字化け | 再生成を試みる（最大3回）、直らない場合はCanva等で手動修正 |
| 背景が合わない | 世界観キーワードを具体的に追加 |
| アスペクト比が1:1になる | 下記「アスペクト比の制約」を参照 |

---

## ⚠️ アスペクト比の制約

> **重要**: 現在の画像生成ツール（generate_image）は、プロンプトで16:9を指定しても **1:1（正方形）** で出力されます。

### 16:9スライドに使用する場合の対処法

1. **Felo Libdoc等で左右を拡張**（推奨）
   - 正方形画像をアップロード
   - AIアウトペインティング機能で左右に背景を自然に拡張
   - 16:9として書き出し

2. **Canva/PowerPointで背景色を追加**
   - 16:9スライドに正方形画像を中央配置
   - 左右の余白を背景色で埋める（簡易対応）

### 将来的な改善

画像生成ツールがアスペクト比指定に対応した場合は、プロンプトに `16:9 aspect ratio` を含めることで対応可能になる見込み。

---

## 🎨 Canvaでの仕上げ手順

画像生成後、Canvaで2枚横並びのスライドに仕上げる手順です。

### Step A: カスタムサイズの作成

1. Canvaで「**カスタムサイズ**」を選択
2. サイズを設定:
   - **横**: 2048 px
   - **縦**: 1024 px
3. 「デザインを作成」をクリック

### Step B: スライドの配置

1. 生成した画像（1024x1024 px）を左右に2枚ずつ配置
2. ページを追加して繰り返し

| ページ | 左 | 右 |
|--------|-----|-----|
| 1 | スライド1 | スライド2 |
| 2 | スライド3 | スライド4 |
| ... | ... | ... |

### Step C: スライド数の調整（重要）

> ⚠️ **偶数枚で終わるようにする**

2枚ずつ配置するため、スライド総数は**偶数**が望ましい。
奇数の場合は以下で14枚目を追加:

- **Q&A**: 「質問はありますか？」+ やりたいこと→参照先ガイド
- **参考資料**: QRコード + マニュアルPDFへのリンク
- **クレジット**: 作成者名、勉強会名、日付

### Step D: 書き出し

1. 「共有」→「ダウンロード」
2. ファイル形式: **PDF（印刷）** または **PNG**
3. すべてのページをダウンロード

---

## 📊 スライド枚数の目安

| 時間 | 推奨枚数 | 備考 |
|------|---------|------|
| 15分 | 8-10枚 | 偶数推奨 |
| 30分 | 12-14枚 | 偶数推奨 |
| 60分 | 20-24枚 | 偶数推奨 |

---

## 💡 既知の改善点

### キャラクターのポーズ・表情のバリエーション不足

**問題**: 同じキャラクター画像を参照すると、生成されるスライドでポーズや表情が似通ってしまう

**対策**:
1. Step 0-A で事前に複数のポーズ・表情バリエーションを生成
2. スライドごとに異なる参照画像を使用
3. プロンプトでポーズ・表情を明示的に指定

**推奨バリエーション数**: 最低6種類
- 基本立ち、説明、歓迎、質問、応援、困り

